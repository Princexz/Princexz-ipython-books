<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="IPython Cookbook, ">


    <!-- FAVICON -->
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-touch-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-touch-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-touch-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-touch-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-touch-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-160x160.png" sizes="160x160">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">


        <link rel="alternate"  href="https://ipython-books.github.io/feeds/all.atom.xml" type="application/atom+xml" title="IPython Cookbook Full Atom Feed"/>

        <title>IPython Cookbook - Chapter 3 : Mastering the Jupyter Notebook</title>

    <link href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.3.0/pure-min.css">
    <!--[if lte IE 8]>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/0.5.0/pure-min.css">
    <![endif]-->
    <!--[if gt IE 8]><!-->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/0.5.0/pure-min.css">
    <!--<![endif]-->
    <link rel="stylesheet" href="https://ipython-books.github.io/theme/css/styles.css">
    <link rel="stylesheet" href="https://ipython-books.github.io/theme/css/pygments.css">
    <!-- <link href='https://fonts.googleapis.com/css?family=Lato:300,400,700' rel='stylesheet' type='text/css'> -->
    <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,500" rel="stylesheet" type="text/css">
    <link href='https://fonts.googleapis.com/css?family=Ubuntu+Mono' rel='stylesheet' type='text/css'>
    

    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
</head>

<body>


    <header id="header" class="pure-g">
        <div class="pure-u-1 pure-u-md-3-4">
             <div id="menu">
                 <div class="pure-menu pure-menu-open pure-menu-horizontal">
<ul>
        <li><a href="/">home</a></li>
        <li><a href="https://github.com/ipython-books/cookbook-2nd-code">Jupyter notebooks</a></li>
        <li><a href="https://github.com/ipython-books/minibook-2nd-code">minibook</a></li>
        <li><a href="https://cyrille.rossant.net">author</a></li>
</ul>                </div>
            </div>
        </div>

        <div class="pure-u-1 pure-u-md-1-4">
            <div id="social">
                <div class="pure-menu pure-menu-open pure-menu-horizontal">
<ul>
        <li><a href="https://twitter.com/cyrillerossant"><i class="fa fa-twitter"></i></a></li>
        <li><a href="https://github.com/ipython-books/cookbook-2nd"><i class="fa fa-github"></i></a></li>
</ul>                </div>
            </div>
        </div>
    </header>
       

    
    <div id="layout" class="pure-g">
        <section id="content" class="pure-u-1 pure-u-md-4-4">
            <div class="l-box">

    <header id="page-header">
        <h1>Chapter 3 : Mastering the Jupyter Notebook</h1>
    </header>

    <section id="page">
        <p>In this chapter, we will cover the following topics:</p>
<ul>
<li><a href="https://ipython-books.github.io/31-teaching-programming-in-the-notebook-with-ipython-blocks/">3.1. Teaching programming in the Notebook with IPython blocks</a></li>
<li><a href="https://ipython-books.github.io/32-converting-a-jupyter-notebook-to-other-formats-with-nbconvert/">3.2. Converting a Jupyter notebook to other formats with nbconvert</a></li>
<li><a href="https://ipython-books.github.io/33-mastering-widgets-in-the-jupyter-notebook/">3.3. Mastering widgets in the Jupyter Notebook</a></li>
<li><a href="https://ipython-books.github.io/34-creating-custom-jupyter-notebook-widgets-in-python-html-and-javascript/">3.4. Creating custom Jupyter Notebook widgets in Python, HTML, and JavaScript</a></li>
<li><a href="https://ipython-books.github.io/35-configuring-the-jupyter-notebook/">3.5. Configuring the Jupyter Notebook</a> *</li>
<li><a href="https://ipython-books.github.io/36-introducing-jupyterlab/">3.6. Introducing JupyterLab</a></li>
</ul>
<p>In this chapter, we will see several advanced features and usage examples of the Jupyter Notebook. As we have only seen basic features in the previous chapters, we will dive deeper into the architecture of the Notebook here.</p>
<h2>The Notebook ecosystem</h2>
<p>Jupyter notebooks are represented as <strong>JavaScript Object Notation (JSON)</strong> documents. JSON is a language-independent, text-based file format for representing structured documents. As such, notebooks can be processed by any programming language, and they can be converted to other formats such as Markdown, HTML, LaTeX/PDF, and others.</p>
<p>There is an ecosystem of tools around the Notebook. Notebooks are being used to create slides, teaching materials, blog posts, research papers, and even books. In fact, this very book is entirely written in the Notebook using the Markdown format and a custom-made Python tool.</p>
<p><strong>JupyterLab</strong> is the next generation of the Jupyter Notebook. It is still in an early stage of development at the time of this writing. We cover it in the last recipe of this chapter.</p>
<h2>Architecture of the Jupyter Notebook</h2>
<p>Jupyter implements a two-process model, with a <strong>kernel</strong> and a <strong>client</strong>. The client is the interface offering the user the ability to send code to the kernel. The kernel executes the code and returns the result to the client for display. In the <strong>Read-Evaluate-Print Loop (REPL)</strong> terminology, the kernel implements the <em>Evaluate</em>, whereas the client implements the <em>Read</em> and the <em>Print</em> of the process.</p>
<p>The client can be a Qt widget if we run the Qt console, or a browser if we run the Jupyter Notebook. In the Jupyter Notebook, the kernel receives entire cells at once, so it has no notion of a notebook. There is a strong decoupling between the linear document containing the notebook, and the underlying kernel.</p>
<p>All communication procedures between the different processes are implemented on top of the <strong>ZeroMQ</strong> (or <strong>ZMQ</strong>) messaging protocol (http://zeromq.org). The Notebook communicates with the underlying kernel using <strong>WebSocket</strong>, a TCP-based protocol implemented in modern web browsers.</p>
<h3>Connecting multiple clients to one kernel</h3>
<p>In a notebook, typing <code>%connect_info</code> in a cell gives the information we need to connect a new client (such as a Qt console) to the underlying kernel:</p>
<div class="highlight"><pre><span></span><span class="o">%</span><span class="n">connect_info</span>
</pre></div>


<div class="highlight"><pre><span></span>{
  &quot;shell_port&quot;: 58645,
  &quot;iopub_port&quot;: 47422,
  &quot;stdin_port&quot;: 60550,
  &quot;control_port&quot;: 39092,
  &quot;hb_port&quot;: 49409,
  &quot;ip&quot;: &quot;127.0.0.1&quot;,
  &quot;key&quot;: &quot;2298f955-7020b0ce534e7a8d81053d43&quot;,
  &quot;transport&quot;: &quot;tcp&quot;,
  &quot;signature_scheme&quot;: &quot;hmac-sha256&quot;,
  &quot;kernel_name&quot;: &quot;&quot;
}

Paste the above JSON into a file, and connect with:
    $&gt; jupyter &lt;app&gt; --existing &lt;file&gt;
or, if you are local, you can connect with just:
    $&gt; jupyter &lt;app&gt; --existing kernel-4342f625-a8...
or even just:
    $&gt; jupyter &lt;app&gt; --existing
if this is the most recent Jupyter kernel you
    have started.
</pre></div>


<p>Here, <code>&lt;app&gt;</code> is <code>console</code>, <code>qtconsole</code>, or <code>notebook</code></p>
<h3>JupyterHub</h3>
<p><strong>JupyterHub</strong>, available at <a href="https://jupyterhub.readthedocs.io/en/latest/">https://jupyterhub.readthedocs.io/en/latest/</a>, is a Python library that can be used to serve notebooks to a set of end-users, for example students of a particular class, or lab members in a research group. It handles user authentication and other low-level details.</p>
<h2>Security in notebooks</h2>
<p>It is possible for an attacker to put malicious code in a Jupyter notebook. Since notebooks may contain hidden JavaScript code in a cell output, it is theoretically possible for malicious code to execute surreptitiously when the user opens a notebook.</p>
<p>For this reason, Jupyter has a security model where HTML and JavaScript code in a notebook can be either trusted or untrusted. Outputs generated by the user are always trusted. However, outputs that were already there when the user first opened an existing notebook are untrusted.</p>
<p>The security model is based on a cryptographic signature present in every notebook. This signature is generated using a secret key owned by every user.</p>
<h2>References</h2>
<p>The following are some references about the Notebook architecture:</p>
<ul>
<li>Overview of IPython at <a href="http://ipython.readthedocs.io/en/stable/overview.html">http://ipython.readthedocs.io/en/stable/overview.html</a></li>
<li>Documentation of the Jupyter Notebook, available at <a href="https://jupyter.readthedocs.io/en/latest/">https://jupyter.readthedocs.io/en/latest/</a></li>
<li>Security in the Notebook, described at <a href="http://jupyter-notebook.readthedocs.io/en/stable/security.html">http://jupyter-notebook.readthedocs.io/en/stable/security.html</a></li>
<li>The Jupyter messaging protocol, at <a href="http://jupyter-client.readthedocs.io/en/latest/messaging.html">http://jupyter-client.readthedocs.io/en/latest/messaging.html</a></li>
<li>Wrapper kernels at <a href="http://jupyter-client.readthedocs.io/en/latest/wrapperkernels.html">http://jupyter-client.readthedocs.io/en/latest/wrapperkernels.html</a></li>
</ul>
<p>Here are a few kernels in non-Python languages for the Notebook:</p>
<ul>
<li>IJulia, available at <a href="https://github.com/JuliaLang/IJulia.jl">https://github.com/JuliaLang/IJulia.jl</a></li>
<li>IRkernel, available at <a href="https://github.com/IRkernel/IRkernel">https://github.com/IRkernel/IRkernel</a></li>
<li>IHaskell, available at <a href="https://github.com/gibiansky/IHaskell">https://github.com/gibiansky/IHaskell</a></li>
<li>Dozens of kernels are referenced at <a href="https://github.com/jupyter/jupyter/wiki/Jupyter-kernels">https://github.com/jupyter/jupyter/wiki/Jupyter-kernels</a></li>
</ul>
    </section>

            </div>
        </section>

        <footer id="footer" class="pure-u-1 pure-u-md-4-4">
            <div class="l-box">
                <div>
                    <p>&copy; <a href="https://cyrille.rossant.net">Cyrille Rossant</a> &ndash;
                        Built with <a href="https://github.com/PurePelicanTheme/pure-single">Pure Theme</a>
                        for <a href="https://blog.getpelican.com/">Pelican</a>
                    </p>
                </div>
            </div>
        </footer>
        
    </div>
    
<!-- Start of StatCounter Code for Default Guide -->
<script type="text/javascript">
var sc_project=9752080; 
var sc_invisible=1; 
var sc_security="c177b501"; 
var scJsHost = (("https:" == document.location.protocol) ?
"https://secure." : "http://www.");
</script>
<script type="text/javascript"
src="https://www.statcounter.com/counter/counter.js"
async></script>
<noscript><div class="statcounter"><a title="Web Analytics"
href="https://statcounter.com/" target="_blank"><img
class="statcounter"
src="//c.statcounter.com/9752080/0/c177b501/1/" alt="Web
Analytics"></a></div></noscript>
<!-- End of StatCounter Code for Default Guide -->
</body>
</html>